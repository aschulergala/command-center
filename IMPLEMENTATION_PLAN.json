{
  "module": "GalaChain Command Center",
  "version": "1.0.0",
  "description": "Lightweight wallet-facing dApp for GalaChain token operations - fungible tokens, NFTs, and creator tools with wallet connection and transaction signing",
  "created": "2026-01-20",
  "stack": {
    "backend": "NestJS + TypeScript (serves API + static Vue build)",
    "frontend": "Vue 3 + Vite + TypeScript (builds to dist/client)",
    "styling": "Tailwind CSS",
    "stateManagement": "Pinia",
    "walletConnection": "@gala-chain/connect",
    "chainApi": "@gala-chain/api + @gala-chain/client",
    "formValidation": "VeeValidate + zod",
    "httpClient": "axios"
  },
  "projectStructure": {
    "root": "command-center/",
    "description": "Single package - NestJS serves Vue static build",
    "folders": {
      "src/": "NestJS backend source",
      "client/": "Vue 3 frontend source",
      "shared/": "Shared types and utilities (imported by both)",
      "dist/": "NestJS compiled output",
      "dist/client/": "Vue production build (served by NestJS)"
    }
  },
  "dependencies": {
    "root": [
      "@nestjs/common",
      "@nestjs/core",
      "@nestjs/platform-express",
      "@nestjs/config",
      "@nestjs/serve-static",
      "@gala-chain/api",
      "@gala-chain/client",
      "class-validator",
      "class-transformer",
      "bignumber.js"
    ],
    "client": [
      "vue@^3.4",
      "vue-router@^4",
      "pinia@^2",
      "@gala-chain/connect",
      "@gala-chain/api",
      "vee-validate@^4",
      "@vee-validate/zod",
      "zod",
      "axios",
      "bignumber.js",
      "@vueuse/core"
    ],
    "devDependencies": [
      "vite",
      "@vitejs/plugin-vue",
      "tailwindcss",
      "autoprefixer",
      "postcss",
      "typescript",
      "concurrently",
      "vitest",
      "@vue/test-utils",
      "@pinia/testing",
      "@storybook/vue3",
      "playwright"
    ]
  },
  "testingStrategy": {
    "overview": "Layered testing approach separating concerns to maximize automated coverage while acknowledging wallet signing requires manual testing",
    "layers": [
      {
        "layer": "Unit Tests (Vitest)",
        "description": "Pure functions, validation schemas, formatters, utilities",
        "walletRequired": false,
        "automatable": true,
        "examples": [
          "formatTokenBalance() formatting",
          "truncateAddress() output",
          "zod validation schemas",
          "Error message mapping",
          "Sorting/filtering logic"
        ]
      },
      {
        "layer": "Store Tests (Vitest + @pinia/testing)",
        "description": "Pinia store state management with mocked GalaChain client",
        "walletRequired": false,
        "automatable": true,
        "mockStrategy": "Mock @gala-chain/connect and client at module level",
        "examples": [
          "wallet store state transitions",
          "tokens store fetch/refresh actions",
          "nfts store filtering getters",
          "transactions store pending/complete flow"
        ]
      },
      {
        "layer": "Composable Tests (Vitest)",
        "description": "Vue composables with mocked stores and client",
        "walletRequired": false,
        "automatable": true,
        "mockStrategy": "Inject mock stores, mock client responses",
        "examples": [
          "useTransferToken DTO construction",
          "useTokenAuthority authorization checks",
          "useGalaChain error handling"
        ]
      },
      {
        "layer": "Component Tests (Vitest + @vue/test-utils)",
        "description": "Vue components with mocked stores via @pinia/testing",
        "walletRequired": false,
        "automatable": true,
        "mockStrategy": "Use createTestingPinia() with initialState",
        "examples": [
          "TokenCard renders balance correctly",
          "TransferModal validates input",
          "WalletConnect shows correct button states",
          "MintModal disabled when unauthorized"
        ]
      },
      {
        "layer": "Visual/Storybook Tests",
        "description": "Component visual states in isolation",
        "walletRequired": false,
        "automatable": true,
        "purpose": "Document all UI states, catch visual regressions",
        "stories": [
          "WalletConnect: disconnected, connecting, connected, error",
          "TokenCard: with balance, zero balance, with mint auth, with burn auth",
          "TransferModal: default, validating, submitting, success, error",
          "NFTCard: with image, without image, loading",
          "Toast: success, error, pending, info"
        ]
      },
      {
        "layer": "Integration Tests - Reads (Vitest)",
        "description": "Test real GalaChain API calls for read operations using provided test address",
        "walletRequired": false,
        "automatable": true,
        "setup": "Provide TEST_WALLET_ADDRESS env var with known balances",
        "examples": [
          "Fetch real token balances for test address",
          "Fetch real NFT list for test address",
          "Fetch real allowances for test address",
          "Verify response parsing matches expected types"
        ]
      },
      {
        "layer": "E2E Tests - UI Flows (Playwright)",
        "description": "Full user flows with mocked wallet state injected",
        "walletRequired": false,
        "automatable": true,
        "mockStrategy": "Inject window.__MOCK_WALLET__ before page load",
        "examples": [
          "Navigate between pages",
          "Token list displays and sorts",
          "NFT filtering works",
          "Modal opens/closes correctly",
          "Form validation messages appear",
          "Toast notifications display"
        ]
      },
      {
        "layer": "Manual Testing - Wallet Connection",
        "description": "Real MetaMask wallet connection flows",
        "walletRequired": true,
        "automatable": false,
        "checklist": [
          "MetaMask popup appears on connect click",
          "User can approve connection",
          "User can reject connection (error shown)",
          "Address displays correctly after connection",
          "Disconnect clears state",
          "Auto-reconnect works on page reload",
          "Wrong network shows appropriate error"
        ]
      },
      {
        "layer": "Manual Testing - Write Operations",
        "description": "Real transaction signing with MetaMask",
        "walletRequired": true,
        "automatable": false,
        "checklist": [
          "Transfer: MetaMask signature popup appears",
          "Transfer: User can approve, transaction succeeds",
          "Transfer: User can reject, error shown",
          "Mint: Signature flow works (if authorized)",
          "Burn: Signature flow works with confirmation",
          "Create Collection: Signature flow works",
          "Create Class: Signature flow works"
        ]
      }
    ],
    "mockingPatterns": {
      "walletStoreMock": {
        "description": "Pre-populate wallet store with connected state",
        "code": "const walletStore = useWalletStore(); walletStore.$patch({ connected: true, address: 'client|testaddr' })"
      },
      "galachainClientMock": {
        "description": "Mock the GalaChain client module",
        "code": "vi.mock('@/lib/galachainClient', () => ({ fetchBalances: vi.fn().mockResolvedValue({ Data: mockTokens }), transfer: vi.fn().mockResolvedValue({ Status: 1 }) }))"
      },
      "browserConnectClientMock": {
        "description": "Mock @gala-chain/connect BrowserConnectClient",
        "code": "vi.mock('@gala-chain/connect', () => ({ BrowserConnectClient: vi.fn().mockImplementation(() => ({ connect: vi.fn(), send: vi.fn() })) }))"
      },
      "playwrightWalletInjection": {
        "description": "Inject mock wallet state for E2E tests",
        "code": "await page.addInitScript(() => { window.__MOCK_WALLET__ = { connected: true, address: 'client|testaddr' } })"
      }
    },
    "testDataRequirements": {
      "testWalletAddress": {
        "description": "A GalaChain wallet address with known token balances for integration tests",
        "format": "client|<hex>",
        "requirements": [
          "Has at least 2 different fungible token balances",
          "Has at least 3 NFTs from at least 2 collections",
          "Optionally has mint/burn authority on a test token"
        ]
      },
      "mockTokenFixtures": {
        "description": "Static mock data for unit/component tests",
        "files": [
          "client/__tests__/fixtures/tokens.ts",
          "client/__tests__/fixtures/nfts.ts",
          "client/__tests__/fixtures/collections.ts",
          "client/__tests__/fixtures/allowances.ts"
        ]
      }
    },
    "coverageGoals": {
      "unit": "90%+ for pure functions and utilities",
      "stores": "80%+ for state management logic",
      "components": "70%+ for interactive components",
      "integration": "Key read flows covered",
      "e2e": "Critical user journeys covered",
      "manual": "All wallet signing flows verified before release"
    }
  },
  "requirements": [
    {
      "category": "project-setup",
      "description": "Initialize NestJS project with Vue client folder structure",
      "steps": [
        "Create NestJS project with CLI (nest new command-center --skip-git)",
        "Create client/ folder for Vue frontend",
        "Create shared/ folder for common types",
        "Install @nestjs/serve-static for serving Vue build",
        "Configure root package.json scripts for unified dev/build",
        "Add script: dev - runs NestJS and Vite concurrently",
        "Add script: build - builds Vue then NestJS",
        "Add script: start:prod - runs compiled NestJS (serves everything)",
        "Configure .gitignore for dist/, node_modules/, .env"
      ],
      "passes": true,
      "notes": "",
      "testing": {
        "automated": ["Build script completes without errors", "Dev script starts both servers"],
        "manual": []
      }
    },
    {
      "category": "vue-client-setup",
      "description": "Initialize Vue 3 frontend in client/ folder with Vite",
      "steps": [
        "Initialize Vite + Vue 3 + TypeScript in client/ folder",
        "Install Vue Router for client-side routing",
        "Install and configure Pinia for state management",
        "Install and configure Tailwind CSS with GalaChain brand colors",
        "Install @gala-chain/connect and @gala-chain/api packages",
        "Install VeeValidate + @vee-validate/zod for form validation",
        "Install @vueuse/core for Vue composition utilities",
        "Install axios for HTTP requests to backend API",
        "Configure vite.config.ts: output to ../dist/client, proxy /api to NestJS in dev",
        "Create folder structure: src/views/, src/components/, src/composables/, src/stores/, src/lib/",
        "Configure path alias @ pointing to client/src/"
      ],
      "passes": true,
      "notes": "Vue client initialized with Vite, Vue Router, Pinia, Tailwind CSS, and all required packages",
      "testing": {
        "automated": ["Vite dev server starts", "TypeScript compiles without errors", "Tailwind classes work"],
        "manual": []
      }
    },
    {
      "category": "nestjs-static-serving",
      "description": "Configure NestJS to serve Vue static build and API routes",
      "steps": [
        "Install @nestjs/serve-static package",
        "Configure ServeStaticModule in app.module.ts",
        "Set rootPath to join(__dirname, 'client') for production",
        "Configure exclude patterns for /api/* routes",
        "Enable SPA fallback (serveRoot: '/', exclude: ['/api/*'])",
        "Test that index.html serves for all non-API routes",
        "Ensure API routes under /api prefix work correctly"
      ],
      "passes": true,
      "notes": "Configured ServeStaticModule with SPA fallback via SpaFallbackController. API routes excluded with /api{/*path} pattern. Integration tests verify static serving and SPA routes.",
      "testing": {
        "automated": ["Jest test: API routes return expected responses", "Integration: SPA routes serve index.html"],
        "manual": ["Verify production build serves correctly in browser"]
      }
    },
    {
      "category": "environment-configuration",
      "description": "Environment variables for both NestJS and Vue client",
      "steps": [
        "Create .env file at project root for NestJS",
        "Add GALACHAIN_ENV variable (production | stage)",
        "Add GALACHAIN_GATEWAY_URL with defaults per environment",
        "Add GALACHAIN_API_URL for REST API calls",
        "Add PORT variable for server (default 3000)",
        "Create client/.env for Vite (VITE_* prefixed variables)",
        "Add VITE_API_BASE_URL (empty for same-origin, or full URL)",
        "Create src/config/configuration.ts for NestJS ConfigService",
        "Create client/src/lib/config.ts for Vue typed config",
        "Create .env.example documenting all variables",
        "Add environment validation on NestJS startup"
      ],
      "passes": true,
      "notes": "Created .env and .env.example files, src/config/configuration.ts with environment validation, updated client/src/lib/config.ts with GalaChain config. 25 server tests + 12 client tests pass.",
      "testing": {
        "automated": ["Unit test: config validation rejects invalid values", "Unit test: config returns correct defaults"],
        "manual": []
      }
    },
    {
      "category": "shared-types",
      "description": "Create shared TypeScript types in shared/ folder",
      "steps": [
        "Create shared/types/galachain.ts re-exporting from @gala-chain/api",
        "Re-export TokenClass, TokenInstance, TokenBalance, TokenAllowance",
        "Re-export TransferTokenDto, MintTokenDto, BurnTokensDto",
        "Create shared/types/wallet.ts with WalletState interface",
        "Create shared/types/display.ts with UI display interfaces",
        "Create FungibleTokenDisplay, NFTDisplay, CollectionDisplay interfaces",
        "Create TransactionResult, AllowanceDisplay interfaces",
        "Create shared/index.ts barrel file exporting all types",
        "Configure tsconfig paths so both src/ and client/ can import from @shared/*"
      ],
      "passes": true,
      "notes": "Created shared/types/galachain.ts re-exporting GalaChain SDK types, shared/types/wallet.ts with wallet state types, shared/types/display.ts with UI display interfaces. Configured tsconfig paths for both server and client. All 37 tests pass.",
      "testing": {
        "automated": ["TypeScript compiles - types are valid"],
        "manual": []
      }
    },
    {
      "category": "nestjs-health-api",
      "description": "Create minimal NestJS API with health check endpoint",
      "steps": [
        "Create src/modules/health/health.module.ts",
        "Create src/modules/health/health.controller.ts",
        "Implement GET /api/health returning { status: 'ok', timestamp }",
        "Register HealthModule in AppModule",
        "Configure global API prefix '/api' in main.ts",
        "Set up CORS for development (allow localhost:5173)",
        "Configure global validation pipe with class-validator",
        "Add request logging middleware for development"
      ],
      "passes": true,
      "notes": "Created HealthModule with dedicated HealthController at /api/health. Added RequestLoggerMiddleware for development request logging. Removed AppController in favor of modular approach. All 38 tests pass (12 client + 26 server).",
      "testing": {
        "automated": ["Jest test: GET /api/health returns 200 with expected shape"],
        "manual": []
      }
    },
    {
      "category": "railway-deployment",
      "description": "Configure project for simple Railway deployment",
      "steps": [
        "Create Procfile with: web: node dist/main.js",
        "Ensure build script builds both Vue and NestJS in correct order",
        "Add build script: cd client && npm run build && cd .. && nest build",
        "Configure package.json engines: { node: '>=18' }",
        "Add start:prod script: node dist/main.js",
        "Create railway.json (optional) for build configuration",
        "Test production build locally: npm run build && npm run start:prod",
        "Document Railway deployment steps in README"
      ],
      "passes": true,
      "notes": "Created Procfile, railway.json, README with deployment docs. Fixed nest-cli.json to not delete outDir. Fixed paths to dist/src/main.js. Added SpaFallbackMiddleware for Vue Router SPA routes. All 38 tests pass.",
      "testing": {
        "automated": ["Build completes without errors"],
        "manual": ["Deploy to Railway staging environment and verify app loads"]
      }
    },
    {
      "category": "wallet-connection",
      "description": "Implement wallet connection using @gala-chain/connect with MetaMask support",
      "steps": [
        "Create client/src/stores/wallet.ts Pinia store",
        "Define state: connected, address, publicKey, isConnecting, error",
        "Define actions: connect(), disconnect(), checkConnection()",
        "Create client/src/composables/useWallet.ts wrapping BrowserConnectClient",
        "Implement connect() with MetaMask popup handling",
        "Implement disconnect() with state cleanup",
        "Implement getAddress() to retrieve connected wallet address",
        "Add wallet connection persistence to localStorage via @vueuse/core",
        "Create auto-reconnect on app mount if previously connected",
        "Create client/src/components/WalletConnect.vue button component",
        "Show truncated address (0x123...abc) when connected",
        "Add dropdown menu with disconnect option",
        "Handle connection errors with user-friendly messages"
      ],
      "passes": true,
      "notes": "Implemented wallet store (client/src/stores/wallet.ts), useWallet composable (client/src/composables/useWallet.ts), and WalletConnect.vue component. Uses @gala-chain/connect BrowserConnectClient with MetaMask support. Auto-reconnect via @vueuse/core useStorage. All 14 store tests and 10 component tests pass.",
      "testing": {
        "automated": [
          "Store test: connect() sets isConnecting then connected",
          "Store test: disconnect() clears all state",
          "Store test: error state set on connection failure",
          "Component test: button shows 'Connect Wallet' when disconnected",
          "Component test: button shows truncated address when connected",
          "Component test: dropdown appears on click when connected",
          "Storybook: all wallet button states"
        ],
        "manual": [
          "REQUIRED: MetaMask popup appears when clicking Connect",
          "REQUIRED: Approving connection shows address in UI",
          "REQUIRED: Rejecting connection shows error message",
          "REQUIRED: Disconnect clears UI and localStorage",
          "REQUIRED: Page reload auto-reconnects if previously connected",
          "REQUIRED: Test with MetaMask not installed (shows install prompt)"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test wallet connection with MetaMask: connect, reject, disconnect, and auto-reconnect flows."
    },
    {
      "category": "galachain-client",
      "description": "Create GalaChain client composable for chaincode interactions",
      "steps": [
        "Create client/src/lib/galachainClient.ts with client initialization",
        "Configure REST API client with environment-based URLs",
        "Create client/src/composables/useGalaChain.ts for reactive client access",
        "Implement evaluate() wrapper for read operations",
        "Implement submit() wrapper for write operations (auto-signed)",
        "Integrate with wallet store for automatic signature handling",
        "Create client/src/lib/galachainErrors.ts for response error parsing",
        "Map GalaChainResponse error codes to user-friendly messages",
        "Add request/response logging in development mode",
        "Export typed methods: fetchBalances, fetchAllowances, transfer, mint, burn"
      ],
      "passes": true,
      "notes": "Implemented GalaChain client module using TokenApi from @gala-chain/connect. Created galachainErrors.ts with error mapping, galachainClient.ts with TokenApi wrapper functions (fetchBalances, fetchAllowances, transfer, mint, burn), and useGalaChain.ts composable integrating with wallet store. All 96 tests pass (34 error tests, 12 client tests, 14 composable tests).",
      "testing": {
        "automated": [
          "Unit test: error code mapping returns correct messages",
          "Unit test: client uses correct URLs per environment",
          "Integration test: fetchBalances returns data for test address"
        ],
        "manual": [
          "REQUIRED: Verify submit() triggers MetaMask signature popup"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please verify that write operations trigger MetaMask signing popup."
    },
    {
      "category": "layout-navigation",
      "description": "Create app layout with Vue Router navigation between sections",
      "steps": [
        "Create client/src/router/index.ts with Vue Router setup",
        "Configure routes: / (redirect to /tokens), /tokens, /nfts, /creators, /export",
        "Create client/src/views/Layout.vue as root layout wrapper",
        "Create client/src/components/AppNavigation.vue with tabs",
        "Add navigation items: Tokens, NFTs, Creators, Export (coming soon badge)",
        "Style navigation with Tailwind (sticky header, responsive)",
        "Add active route indication with router-link-active class",
        "Include WalletConnect.vue component in header right side",
        "Create client/src/components/ui/PageHeader.vue for section titles",
        "Create client/src/components/ui/LoadingSpinner.vue",
        "Create client/src/components/ui/EmptyState.vue for empty lists"
      ],
      "passes": true,
      "notes": "Implemented Layout.vue with header, navigation, and footer. Created AppNavigation.vue with desktop tabs and mobile horizontal scroll. Created UI components: PageHeader, LoadingSpinner, EmptyState. Updated router to use Layout as parent with nested children routes. All 160 tests pass (134 client + 26 server).",
      "testing": {
        "automated": [
          "E2E test: navigation between all routes works",
          "E2E test: active tab highlighted correctly",
          "Component test: EmptyState renders message",
          "Storybook: navigation states, loading spinner, empty state"
        ],
        "manual": []
      }
    },
    {
      "category": "fungible-tokens-list",
      "description": "Implement fungible token list view with balances and allowances",
      "steps": [
        "Create client/src/views/TokensView.vue as main tokens page",
        "Create client/src/stores/tokens.ts Pinia store",
        "Define state: tokens[], allowances[], isLoading, error, sortBy",
        "Define actions: fetchTokens(), fetchAllowances(), refresh(), setSort()",
        "Create client/src/composables/useFungibleTokens.ts for data fetching",
        "Query balances via GalaChain client (FetchBalances)",
        "Query allowances via GalaChain client (FetchAllowances)",
        "Create client/src/components/tokens/TokenList.vue displaying cards",
        "Create client/src/components/tokens/TokenCard.vue with name, symbol, balance",
        "Add action buttons: Transfer, Mint (if authorized), Burn (if authorized)",
        "Create client/src/components/tokens/AllowanceList.vue showing spender + amount",
        "Create client/src/components/tokens/SortDropdown.vue",
        "Implement sorting: by balance (desc), alphabetical (asc)",
        "Add loading skeleton with shimmer effect",
        "Handle empty state when no tokens owned"
      ],
      "passes": true,
      "notes": "Implemented TokensView with TokenList, TokenCard, AllowanceList, SortDropdown components. Created tokens Pinia store and useFungibleTokens composable. Updated shared display types to use strings for balances to avoid Vue reactivity issues with BigNumber.",
      "testing": {
        "automated": [
          "Store test: fetchTokens populates tokens array",
          "Store test: sorting changes order correctly",
          "Component test: TokenCard displays balance formatted",
          "Component test: empty state shown when tokens empty",
          "Integration test: fetch real balances for test address",
          "Storybook: TokenCard states, loading skeleton, empty state"
        ],
        "manual": [
          "RECOMMENDED: Verify real token list loads for connected wallet"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please connect wallet and verify your token balances display correctly."
    },
    {
      "category": "fungible-tokens-transfer",
      "description": "Implement fungible token transfer functionality",
      "steps": [
        "Create client/src/components/tokens/TransferModal.vue dialog",
        "Use native <dialog> element with Tailwind styling",
        "Accept token prop to know which token is being transferred",
        "Build form with VeeValidate: recipient address, amount inputs",
        "Show current balance and max button",
        "Create zod schema: valid address format, amount > 0, amount <= balance",
        "Create client/src/composables/useTransferToken.ts for operation",
        "Build TransferTokenDto with proper payload structure",
        "Submit signed transaction via GalaChain client",
        "Show loading spinner during transaction",
        "Handle success: close modal, refresh balances, show success toast",
        "Handle failure: display error message inline, keep modal open",
        "Add confirmation step before final submit"
      ],
      "passes": true,
      "notes": "Implemented TransferModal.vue with native dialog element, VeeValidate + zod validation, useTransferToken.ts composable. Added confirmation step before final transfer. Integrated into TokensView.vue. All 224 tests pass (198 client + 26 server).",
      "testing": {
        "automated": [
          "Unit test: zod schema rejects invalid addresses",
          "Unit test: zod schema rejects amount > balance",
          "Unit test: TransferTokenDto built correctly",
          "Component test: modal opens and closes",
          "Component test: validation errors display",
          "Component test: max button sets full balance",
          "Component test: submit button disabled during loading",
          "Storybook: modal states (default, validating, submitting, error, success)"
        ],
        "manual": [
          "REQUIRED: Transfer tokens with MetaMask signing",
          "REQUIRED: Verify balance updates after transfer",
          "REQUIRED: Reject transaction in MetaMask - verify error shown",
          "REQUIRED: Test with insufficient balance"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test token transfer: complete a transfer, reject one in MetaMask, and try an invalid amount."
    },
    {
      "category": "fungible-tokens-mint",
      "description": "Implement fungible token mint functionality (authorization gated)",
      "steps": [
        "Create client/src/composables/useTokenAuthority.ts",
        "Query if connected wallet has mint allowance for specific token",
        "Return reactive isMintAuthorized, mintAllowanceRemaining",
        "Conditionally render Mint button in TokenCard only when authorized",
        "Create client/src/components/tokens/MintModal.vue dialog",
        "Show token info and remaining mint allowance",
        "Build form: quantity input with validation (positive, within allowance)",
        "Create client/src/composables/useMintToken.ts for operation",
        "Build MintTokenDto and submit signed transaction",
        "Refresh balances and allowance on successful mint",
        "Display updated remaining mint allowance"
      ],
      "passes": true,
      "notes": "Implemented useTokenAuthority.ts composable for checking mint/burn allowances, useMintToken.ts composable for mint operations, mintSchema.ts for validation, and MintModal.vue with two-step flow (form → confirmation). Green theme styling for mint UI. Integrated into TokensView.vue. All 294 client tests pass.",
      "testing": {
        "automated": [
          "Unit test: useTokenAuthority returns false when no allowance",
          "Unit test: MintTokenDto built correctly",
          "Component test: Mint button hidden when not authorized",
          "Component test: Mint button visible when authorized",
          "Component test: validation rejects amount > allowance",
          "Storybook: MintModal states"
        ],
        "manual": [
          "REQUIRED: Mint tokens with authorized wallet",
          "REQUIRED: Verify balance increases after mint",
          "REQUIRED: Verify mint allowance decreases after mint"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test token minting with an authorized wallet. Verify balance and allowance update correctly."
    },
    {
      "category": "fungible-tokens-burn",
      "description": "Implement fungible token burn functionality (authorization gated)",
      "steps": [
        "Extend useTokenAuthority.ts to check burn authorization",
        "Return reactive isBurnAuthorized",
        "Conditionally render Burn button in TokenCard only when authorized",
        "Create client/src/components/tokens/BurnModal.vue dialog",
        "Show token info and current balance",
        "Build form: quantity input with validation (positive, <= balance)",
        "Add warning banner: 'This action is irreversible'",
        "Add confirmation checkbox: 'I understand this cannot be undone'",
        "Create client/src/composables/useBurnToken.ts for operation",
        "Build BurnTokensDto and submit signed transaction",
        "Refresh balances on successful burn"
      ],
      "passes": true,
      "notes": "Implemented burnSchema.ts for validation with confirmation checkbox requirement, useBurnToken.ts composable for burn operations, and BurnModal.vue with two-step flow (form with warning banner → confirmation with final warning). Red theme styling for burn UI. Integrated into TokensView.vue. All 379 tests pass (353 client + 26 server).",
      "testing": {
        "automated": [
          "Unit test: BurnTokensDto built correctly",
          "Component test: Burn button hidden when not authorized",
          "Component test: submit disabled until checkbox checked",
          "Component test: warning banner displays",
          "Storybook: BurnModal states"
        ],
        "manual": [
          "REQUIRED: Burn tokens with authorized wallet",
          "REQUIRED: Verify balance decreases after burn",
          "REQUIRED: Verify confirmation checkbox is required"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test token burning with an authorized wallet. Verify the confirmation flow and balance update."
    },
    {
      "category": "nft-list",
      "description": "Implement NFT list view with collection filtering",
      "steps": [
        "Create client/src/views/NFTsView.vue as main NFTs page",
        "Create client/src/stores/nfts.ts Pinia store",
        "Define state: nfts[], collections[], selectedCollection, isLoading, sortBy",
        "Define actions: fetchNFTs(), setCollectionFilter(), clearFilter(), setSort()",
        "Define getters: filteredNFTs (applies collection filter)",
        "Create client/src/composables/useNFTs.ts for data fetching",
        "Query NFTs via GalaChain client (FetchBalances with isNonFungible)",
        "Extract unique collections from results for filter dropdown",
        "Create client/src/components/nfts/NFTGrid.vue with responsive grid",
        "Create client/src/components/nfts/NFTCard.vue with collection, tokenId, image",
        "Add action buttons: Transfer, Burn (if authorized)",
        "Create client/src/components/nfts/CollectionFilter.vue dropdown",
        "Sync filter with URL query params (?collection=xyz) via vue-router",
        "Create client/src/components/nfts/SortDropdown.vue",
        "Implement sorting: by collection, by tokenId",
        "Add loading skeleton grid",
        "Handle empty state when no NFTs owned"
      ],
      "passes": true,
      "notes": "Implemented NFTs Pinia store (client/src/stores/nfts.ts), useNFTs composable, NFT UI components (NFTGrid, NFTCard, NFTCardSkeleton, CollectionFilter, NFTSortDropdown). Updated NFTsView.vue with full implementation. Filter syncs with URL query param. All 457 tests pass (431 client + 26 server).",
      "testing": {
        "automated": [
          "Store test: filteredNFTs getter filters correctly",
          "Store test: setCollectionFilter updates state",
          "Component test: NFTCard renders collection and tokenId",
          "Component test: CollectionFilter shows unique collections",
          "E2E test: filter persists in URL",
          "Integration test: fetch real NFTs for test address",
          "Storybook: NFTCard states, grid layouts, empty state"
        ],
        "manual": [
          "RECOMMENDED: Verify real NFT list loads for connected wallet"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please connect wallet and verify your NFTs display correctly with filtering."
    },
    {
      "category": "nft-transfer",
      "description": "Implement NFT transfer functionality",
      "steps": [
        "Create client/src/components/nfts/TransferNFTModal.vue dialog",
        "Accept nft prop to display which NFT is being transferred",
        "Show NFT preview: image (if available), collection, tokenId",
        "Build form: recipient address input with validation",
        "Create zod schema: valid GalaChain address format",
        "Create client/src/composables/useTransferNFT.ts for operation",
        "Build TransferTokenDto for NFT (quantity: 1, specific tokenInstance)",
        "Submit signed transaction via GalaChain client",
        "Handle success: close modal, refresh NFT list, show success toast",
        "Handle failure: display error message inline",
        "Add confirmation step showing NFT details before transfer"
      ],
      "passes": true,
      "notes": "Implemented transferNFTSchema.ts for address validation, useTransferNFT.ts composable for NFT transfer operations, TransferNFTModal.vue with NFT preview and two-step confirmation flow. Integrated into NFTsView.vue. All 504 tests pass (478 client + 26 server).",
      "testing": {
        "automated": [
          "Unit test: TransferTokenDto built with quantity 1",
          "Component test: NFT preview displays",
          "Component test: validation rejects invalid address",
          "Storybook: TransferNFTModal states"
        ],
        "manual": [
          "REQUIRED: Transfer NFT with MetaMask signing",
          "REQUIRED: Verify NFT removed from list after transfer",
          "REQUIRED: Reject transaction - verify error shown"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test NFT transfer: complete a transfer and verify it leaves your wallet."
    },
    {
      "category": "nft-mint",
      "description": "Implement NFT mint functionality (authorization gated)",
      "steps": [
        "Create client/src/composables/useNFTMintAuthority.ts",
        "Query mint allowance per collection for connected wallet",
        "Return reactive authorizedCollections[], getMintAllowance(collection)",
        "Add Mint NFT button to NFTsView header when user has any mint authority",
        "Create client/src/components/nfts/MintNFTModal.vue dialog",
        "Build form: select collection (from authorized), select class, quantity",
        "Show remaining mint allowance for selected collection",
        "Create client/src/composables/useMintNFT.ts for operation",
        "Build appropriate DTO and submit signed transaction",
        "Show minting progress indicator",
        "Refresh NFT list on success"
      ],
      "passes": true,
      "notes": "Implemented useNFTMintAuthority.ts composable for checking NFT mint allowances at collection level, useMintNFT.ts composable for mint operations, and MintNFTModal.vue with collection selector, quantity controls (increment/decrement/max), and two-step confirmation flow. Integrated into NFTsView.vue with Mint NFT button shown when user has mint authority. All 535 tests pass (509 client + 26 server).",
      "testing": {
        "automated": [
          "Unit test: useNFTMintAuthority returns correct collections",
          "Component test: Mint button hidden when no authority",
          "Component test: collection selector populates",
          "Storybook: MintNFTModal states"
        ],
        "manual": [
          "REQUIRED: Mint NFT with authorized wallet",
          "REQUIRED: Verify new NFT appears in list"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test NFT minting with an authorized wallet. Verify new NFT appears in your collection."
    },
    {
      "category": "nft-burn",
      "description": "Implement NFT burn functionality (authorization gated)",
      "steps": [
        "Extend useNFTMintAuthority or create useNFTBurnAuthority.ts",
        "Check burn authorization for connected wallet per NFT/collection",
        "Conditionally show Burn button on NFTCard when authorized",
        "Create client/src/components/nfts/BurnNFTModal.vue dialog",
        "Show NFT preview being burned",
        "Add prominent warning: 'This NFT will be permanently destroyed'",
        "Add confirmation checkbox required to enable burn button",
        "Create client/src/composables/useBurnNFT.ts for operation",
        "Build BurnTokensDto for specific NFT instance",
        "Submit signed transaction",
        "Refresh NFT list on success"
      ],
      "passes": true,
      "notes": "Implemented useBurnNFT.ts composable for burn operations (validates canBurn, isLocked, isInUse before burning), BurnNFTModal.vue with NFT preview, two-step confirmation flow, prominent warning banner, and confirmation checkbox. Red theme styling for burn UI. Integrated into NFTsView.vue. All 599 tests pass (573 client + 26 server).",
      "testing": {
        "automated": [
          "Component test: Burn button hidden when not authorized",
          "Component test: confirmation required before submit",
          "Component test: warning prominently displayed",
          "Storybook: BurnNFTModal states"
        ],
        "manual": [
          "REQUIRED: Burn NFT with authorized wallet",
          "REQUIRED: Verify NFT removed from list after burn"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test NFT burning with an authorized wallet. Verify NFT is removed after burning."
    },
    {
      "category": "creators-page",
      "description": "Create Creators section with Pump interface entry point",
      "steps": [
        "Create client/src/views/CreatorsView.vue as main creators page",
        "Create two sections: Pump Interface, NFT Collection Tools",
        "Create client/src/components/creators/PumpEntry.vue prominent card",
        "Add Pump description and eye-catching CTA button",
        "Determine Pump URL/integration (external link for now)",
        "Style Pump card as primary action with gradient or accent color",
        "Show wallet connection prompt if not connected",
        "Add visual divider between Pump and Collection tools sections"
      ],
      "passes": true,
      "notes": "Implemented PumpEntry.vue component with gradient styling, animated border, external link to pump.gala.games. Updated CreatorsView.vue with Pump Interface section, visual divider, and NFT Collection Tools section with Create Collection and Manage Classes cards (disabled placeholders for future tasks). Shows wallet connection prompt when disconnected. All 637 tests pass (611 client + 26 server).",
      "testing": {
        "automated": [
          "Component test: Pump CTA links correctly",
          "Component test: wallet prompt shown when disconnected",
          "Storybook: PumpEntry states"
        ],
        "manual": [
          "RECOMMENDED: Verify Pump link opens correctly"
        ]
      }
    },
    {
      "category": "creators-collections",
      "description": "Implement NFT collection management for creators",
      "steps": [
        "Create client/src/stores/creatorCollections.ts Pinia store",
        "Define state: collections[], isLoading, error",
        "Define actions: fetchCollections(), refresh()",
        "Create client/src/composables/useCreatorCollections.ts",
        "Query collections where connected wallet has authority",
        "Create client/src/components/creators/CollectionList.vue",
        "Create client/src/components/creators/CollectionCard.vue",
        "Show collection name, symbol, total supply, minted count",
        "Show expandable/collapsible classes list under each collection",
        "Add action buttons: Mint, Manage Classes",
        "Add Create Collection CTA button at top",
        "Handle empty state for users with no collections"
      ],
      "passes": true,
      "notes": "Implemented creatorCollections Pinia store with collections identified by Mint allowance with instance 0 (collection-level). Created useCreatorCollections composable for fetching allowances and balances. Built CollectionList, CollectionCard, and CollectionCardSkeleton components. Updated CreatorsView with My Collections section showing refresh button, error display, and collection count badge. Mint button enabled, Manage Classes disabled (pending future task). All 669 tests pass.",
      "testing": {
        "automated": [
          "Store test: fetchCollections populates state",
          "Component test: CollectionCard displays details",
          "Component test: empty state shown when no collections",
          "Storybook: CollectionCard states, empty state"
        ],
        "manual": [
          "RECOMMENDED: Verify collections load for creator wallet"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please connect a creator wallet and verify your collections display correctly."
    },
    {
      "category": "creators-create-collection",
      "description": "Implement create/claim collection functionality",
      "steps": [
        "Create client/src/components/creators/CreateCollectionModal.vue",
        "Build form: collection name, symbol, description",
        "Add isNonFungible toggle (default true for NFT collections)",
        "Add max supply input (optional, 0 = unlimited)",
        "Create zod schema for validation",
        "Create client/src/composables/useCreateCollection.ts",
        "Build CreateTokenClassDto or appropriate DTO",
        "Submit signed transaction to create collection",
        "Handle success: refresh collections list, show success toast",
        "Handle failure: display error message"
      ],
      "passes": true,
      "notes": "Implemented CreateCollectionModal with createCollectionSchema validation, useCreateCollection composable, and createCollection function in galachainClient",
      "testing": {
        "automated": [
          "Unit test: CreateTokenClassDto built correctly",
          "Unit test: zod schema validates collection params",
          "Component test: form validation displays errors",
          "Storybook: CreateCollectionModal states"
        ],
        "manual": [
          "REQUIRED: Create collection with MetaMask signing",
          "REQUIRED: Verify new collection appears in list"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test creating a new collection. Verify it appears in your collections after creation."
    },
    {
      "category": "creators-manage-classes",
      "description": "Implement class management within collections",
      "steps": [
        "Create client/src/components/creators/ClassList.vue",
        "Create client/src/components/creators/ClassCard.vue",
        "Show class name, max supply, minted count, properties",
        "Create client/src/components/creators/CreateClassModal.vue",
        "Build form with class parameters (name, maxSupply, etc.)",
        "Create client/src/composables/useManageClasses.ts",
        "Implement createClass() action",
        "Submit signed transactions for class creation",
        "Refresh class list on success"
      ],
      "passes": true,
      "notes": "Implemented ClassCard.vue, ClassList.vue, CreateClassModal.vue components, createClassSchema.ts validation, and useManageClasses.ts composable. Enabled Manage Classes button on CollectionCard. Updated CreatorsView to open CreateClassModal when Manage Classes clicked. All 833 tests pass (807 client + 26 server).",
      "testing": {
        "automated": [
          "Component test: ClassCard displays properties",
          "Component test: CreateClassModal validates inputs",
          "Storybook: ClassCard states, CreateClassModal states"
        ],
        "manual": [
          "REQUIRED: Create class with MetaMask signing",
          "REQUIRED: Verify new class appears under collection"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test creating a new class within a collection. Verify it appears after creation."
    },
    {
      "category": "creators-mint-from-collection",
      "description": "Implement minting from owned collections/classes",
      "steps": [
        "Add Mint button to CollectionCard and ClassCard",
        "Create client/src/components/creators/CollectionMintModal.vue",
        "Accept collection (and optionally class) as props",
        "Build form: select class (if not pre-selected), quantity input",
        "Show remaining supply / mint allowance",
        "Add metadata inputs if applicable (optional for MVP)",
        "Create client/src/composables/useCollectionMint.ts",
        "Validate against max supply and mint allowances",
        "Submit signed mint transaction",
        "Show minting progress indicator",
        "Refresh collection stats on success"
      ],
      "passes": true,
      "notes": "Implemented useCollectionMint.ts composable with executeMintFromCollection and executeMintFromClass functions, validation helpers, and max quantity calculations. Created CollectionMintModal.vue with class selector, quantity controls, two-step confirmation flow. Integrated into CreatorsView.vue. All 879 tests pass (853 client + 26 server).",
      "testing": {
        "automated": [
          "Unit test: mint DTO built correctly",
          "Component test: class selector works",
          "Component test: validation against supply",
          "Storybook: CollectionMintModal states"
        ],
        "manual": [
          "REQUIRED: Mint from collection with MetaMask signing",
          "REQUIRED: Verify minted count updates"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test minting from your collection. Verify the minted count updates correctly."
    },
    {
      "category": "toast-notifications",
      "description": "Create toast notification system for transaction feedback",
      "steps": [
        "Create client/src/stores/toasts.ts Pinia store",
        "Define state: toasts[] with id, type, message, duration",
        "Define actions: addToast(), removeToast(), clearAll()",
        "Create client/src/components/ui/Toast.vue single toast component",
        "Style variants: success (green), error (red), pending (blue), info (gray)",
        "Create client/src/components/ui/ToastContainer.vue",
        "Position fixed bottom-right, stack toasts vertically",
        "Add enter/leave transitions with Vue <Transition>",
        "Auto-dismiss success/info toasts after 5 seconds",
        "Keep error toasts until manually dismissed",
        "Create client/src/composables/useToast.ts helper"
      ],
      "passes": true,
      "notes": "Implemented toasts Pinia store (client/src/stores/toasts.ts) with state, actions (addToast, removeToast, clearAll, updateToast), convenience methods (success, error, pending, info), and getters. Created Toast.vue with type-based styling (success/green, error/red, pending/blue, info/gray), auto-dismiss timer, dismiss button, and accessibility attributes. Created ToastContainer.vue with Teleport to body, TransitionGroup animations (slide in/out from right), and fixed bottom-right positioning. Created useToast.ts composable with convenience methods and transaction() helper for transaction workflows. Integrated ToastContainer into Layout.vue. All 972 tests pass (946 client + 26 server).",
      "testing": {
        "automated": [
          "Store test: addToast creates toast with id",
          "Store test: removeToast removes correct toast",
          "Component test: Toast renders correct variant styles",
          "Component test: dismiss button works",
          "Storybook: all Toast variants"
        ],
        "manual": []
      }
    },
    {
      "category": "transaction-status",
      "description": "Create transaction status tracking for pending operations",
      "steps": [
        "Create client/src/stores/transactions.ts Pinia store",
        "Define state: pendingTxs[], recentTxs[] (last 10)",
        "Define PendingTransaction type: id, type, status, timestamp, hash?",
        "Define actions: addPending(), updateStatus(), markComplete(), markFailed()",
        "Integrate with toast system to show transaction updates",
        "Show transaction hash with link to GalaChain explorer on success",
        "Create client/src/components/ui/TransactionIndicator.vue",
        "Show pending transaction count in header (optional)"
      ],
      "passes": true,
      "notes": "Implemented transactions Pinia store (client/src/stores/transactions.ts) with pendingTxs/recentTxs state, addPending/updateStatus/markComplete/markFailed actions, limit of 10 recent transactions. Created TransactionIndicator.vue component with dropdown showing pending/recent transactions, explorer links for completed transactions with hash. Integrated into Layout.vue header. All 1051 tests pass (1025 client + 26 server).",
      "testing": {
        "automated": [
          "Store test: pending transaction lifecycle",
          "Store test: recentTxs limited to 10",
          "Component test: indicator shows count",
          "Storybook: TransactionIndicator states"
        ],
        "manual": [
          "RECOMMENDED: Verify explorer link works for completed transaction"
        ]
      }
    },
    {
      "category": "error-handling",
      "description": "Implement comprehensive error handling",
      "steps": [
        "Create shared/errors.ts with typed error classes",
        "Define GalaChainError, WalletError, NetworkError, ValidationError",
        "Create client/src/lib/errorHandler.ts",
        "Map GalaChainResponse error codes to user-friendly messages",
        "Handle wallet errors: user rejected, MetaMask not installed, wrong network",
        "Handle transaction signing errors",
        "Handle network/API errors with retry suggestions",
        "Create client/src/components/ui/ErrorDisplay.vue for inline errors",
        "Add Vue global error handler in main.ts (app.config.errorHandler)",
        "Log errors to console in development mode"
      ],
      "passes": true,
      "notes": "Implemented shared/errors.ts with typed error classes (AppError, GalaChainError, WalletError, NetworkError, ValidationError) and ErrorCode/ErrorSeverity enums. Created client/src/lib/errorHandler.ts with comprehensive error parsing for wallet, network, and GalaChain errors. Created ErrorDisplay.vue component with severity-based styling. Added Vue global error handler in main.ts. All 1154 tests pass (1094 client + 60 server).",
      "testing": {
        "automated": [
          "Unit test: error code mapping covers all codes",
          "Unit test: WalletError parses MetaMask errors",
          "Component test: ErrorDisplay renders message",
          "Storybook: ErrorDisplay variants"
        ],
        "manual": [
          "REQUIRED: Reject transaction in MetaMask - verify error message",
          "REQUIRED: Disconnect network - verify network error shown",
          "RECOMMENDED: Test with MetaMask not installed"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test error scenarios: reject a transaction, disconnect network, and verify error messages are user-friendly."
    },
    {
      "category": "responsive-design",
      "description": "Ensure responsive design for mobile and desktop",
      "steps": [
        "Configure Tailwind breakpoints (sm:640, md:768, lg:1024, xl:1280)",
        "Design mobile-first, enhance for larger screens",
        "Navigation: hamburger menu on mobile, tabs on desktop",
        "Create client/src/components/ui/MobileMenu.vue slide-out drawer",
        "NFT grid: 1 col on mobile, 2 on sm, 3 on md, 4 on lg",
        "Token list: full-width cards stacked on mobile",
        "Modals: full-screen on mobile (h-screen), centered max-w-md on desktop",
        "Ensure touch targets >= 44px (buttons, links, inputs)",
        "Test horizontal scroll is prevented",
        "Add safe-area padding for notched devices"
      ],
      "passes": true,
      "notes": "Created MobileMenu.vue slide-out drawer with body scroll lock, route change auto-close, touch targets. Updated all modals to be full-screen on mobile (sm: breakpoint for centered card). Added safe-area padding for notched devices in style.css. Added minimum touch target sizes (44px) globally. All 1177 tests pass (1117 client + 60 server).",
      "testing": {
        "automated": [
          "E2E test: viewport resize shows/hides mobile menu",
          "Storybook: component responsive variants",
          "Unit test: MobileMenu renders correctly when open",
          "Unit test: MobileMenu closes on route change",
          "Unit test: MobileMenu locks body scroll when open"
        ],
        "manual": [
          "REQUIRED: Test on mobile device or emulator",
          "REQUIRED: Verify touch targets are adequate",
          "REQUIRED: Verify no horizontal scroll",
          "REQUIRED: Test wallet connection on mobile browser"
        ]
      },
      "manualTestingRequired": true,
      "manualTestingPrompt": "Please test the app on a mobile device: navigation, touch targets, and wallet connection via mobile browser."
    },
    {
      "category": "testing",
      "description": "Add essential tests for critical functionality",
      "steps": [
        "Install and configure Vitest for client/ tests",
        "Install @vue/test-utils for component testing",
        "Create client/vitest.config.ts",
        "Create client/__tests__/fixtures/ with mock data",
        "Create client/__tests__/mocks/ with module mocks",
        "Add unit tests for Pinia stores: wallet, tokens, nfts",
        "Add unit tests for composables: useWallet, useGalaChain",
        "Add component tests for WalletConnect.vue",
        "Add component tests for TransferModal.vue",
        "Mock @gala-chain packages in tests",
        "Install and configure Jest for src/ (NestJS) tests",
        "Add health controller test",
        "Add npm script: test (runs both client and server tests)",
        "Configure Storybook for visual component documentation",
        "Add Playwright for E2E tests with mock wallet injection"
      ],
      "passes": false,
      "notes": "",
      "testing": {
        "automated": ["All tests pass", "Coverage meets goals"],
        "manual": []
      }
    },
    {
      "category": "export-placeholder",
      "description": "Add placeholder for future Export Wallet Activity feature",
      "steps": [
        "Create client/src/views/ExportView.vue with Coming Soon UI",
        "Add Export tab to navigation with 'Coming Soon' badge",
        "Create client/src/components/export/ExportComingSoon.vue",
        "Show preview mockup of planned export functionality",
        "List planned features: date range, FT/NFT filters, CSV download",
        "Add email signup for notification when available (optional)",
        "Style as grayed/muted compared to active features"
      ],
      "passes": false,
      "notes": "This feature is marked as 'coming soon' in the PRD and is not part of MVP scope",
      "testing": {
        "automated": [
          "Component test: Coming Soon message displays",
          "Storybook: ExportComingSoon component"
        ],
        "manual": []
      }
    }
  ],
  "manualTestingChecklist": {
    "description": "Consolidated checklist of all manual testing required before release",
    "preRelease": [
      {
        "category": "Wallet Connection",
        "tests": [
          "MetaMask popup appears on connect click",
          "User can approve connection - address displays",
          "User can reject connection - error message shown",
          "Disconnect clears UI and state",
          "Auto-reconnect works on page reload",
          "MetaMask not installed shows appropriate message"
        ]
      },
      {
        "category": "Token Operations",
        "tests": [
          "Token list loads for connected wallet",
          "Transfer: complete transaction with signing",
          "Transfer: reject in MetaMask - error shown",
          "Mint (if authorized): complete transaction",
          "Mint: balance and allowance update correctly",
          "Burn (if authorized): complete transaction with confirmation",
          "Burn: balance decreases after burn"
        ]
      },
      {
        "category": "NFT Operations",
        "tests": [
          "NFT list loads for connected wallet",
          "Collection filter works correctly",
          "Transfer NFT: complete transaction with signing",
          "Transfer NFT: NFT removed from list after transfer",
          "Mint NFT (if authorized): complete transaction",
          "Mint NFT: new NFT appears in list",
          "Burn NFT (if authorized): complete transaction",
          "Burn NFT: NFT removed from list"
        ]
      },
      {
        "category": "Creator Operations",
        "tests": [
          "Collections load for creator wallet",
          "Create collection: complete transaction",
          "Create collection: new collection appears",
          "Create class: complete transaction",
          "Create class: class appears under collection",
          "Mint from collection: complete transaction",
          "Mint from collection: minted count updates"
        ]
      },
      {
        "category": "Error Handling",
        "tests": [
          "Reject transaction in MetaMask - user-friendly error",
          "Network disconnection - appropriate error shown",
          "Invalid input - validation errors display"
        ]
      },
      {
        "category": "Responsive Design",
        "tests": [
          "Mobile navigation (hamburger menu)",
          "Touch targets adequate on mobile",
          "No horizontal scroll on any page",
          "Modals usable on mobile",
          "Wallet connection works on mobile browser"
        ]
      }
    ]
  },
  "mvpChecklist": [
    {
      "item": "FT balances + allowances",
      "category": "fungible-tokens-list",
      "status": "pending"
    },
    {
      "item": "FT transfer/mint/burn (mint/burn gated by authorization)",
      "categories": ["fungible-tokens-transfer", "fungible-tokens-mint", "fungible-tokens-burn"],
      "status": "pending"
    },
    {
      "item": "NFT list + filter by collection",
      "category": "nft-list",
      "status": "pending"
    },
    {
      "item": "NFT transfer/mint/burn (mint/burn gated by authorization)",
      "categories": ["nft-transfer", "nft-mint", "nft-burn"],
      "status": "pending"
    },
    {
      "item": "Creators: Pump entry + NFT collection tooling",
      "categories": ["creators-page", "creators-collections", "creators-create-collection", "creators-manage-classes", "creators-mint-from-collection"],
      "status": "pending"
    },
    {
      "item": "Paid async export that produces a clean CSV",
      "category": "export-placeholder",
      "status": "deferred",
      "notes": "Coming soon - not MVP"
    }
  ],
  "architectureNotes": {
    "singlePackage": "One deployable unit. NestJS serves API at /api/* and Vue static build for all other routes. Simplifies Railway deployment.",
    "buildProcess": "1) Vue builds to dist/client via Vite, 2) NestJS compiles to dist/, 3) NestJS ServeStaticModule serves dist/client/. Single 'npm run build' does both.",
    "walletConnection": "Using @gala-chain/connect BrowserConnectClient for MetaMask. Wallet state in Pinia store with localStorage persistence via @vueuse/core useStorage.",
    "transactionSigning": "All write operations auto-signed via connected wallet through @gala-chain/connect. SDK handles signature formatting (secp256k1, rsv format).",
    "stateManagement": "Pinia stores: wallet, tokens, nfts, creatorCollections, transactions, toasts. Composables wrap store actions for component use.",
    "apiDesign": "Frontend talks directly to GalaChain for most operations. NestJS /api routes reserved for future backend-required features (export job processing).",
    "authorization": "Mint/burn buttons conditionally rendered via v-if based on wallet authority. Authority checked via GalaChain queries (FetchAllowances, token class authority).",
    "railwayDeployment": "Railway auto-detects Node.js. Runs: npm install → npm run build → npm start. Single service, no config needed. Procfile optional.",
    "testability": "Code structured for testability: wallet/signing isolated in composables, business logic separate, stores mockable via @pinia/testing, client layer fully mockable."
  },
  "scripts": {
    "dev": "concurrently \"npm run dev:server\" \"npm run dev:client\"",
    "dev:server": "nest start --watch",
    "dev:client": "cd client && vite",
    "build": "npm run build:client && npm run build:server",
    "build:client": "cd client && vite build",
    "build:server": "nest build",
    "start": "node dist/main.js",
    "start:prod": "NODE_ENV=production node dist/main.js",
    "test": "npm run test:client && npm run test:server",
    "test:client": "cd client && vitest run",
    "test:server": "jest",
    "test:e2e": "cd client && playwright test",
    "storybook": "cd client && storybook dev -p 6006",
    "build:storybook": "cd client && storybook build"
  }
}
